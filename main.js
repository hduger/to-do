(()=>{"use strict";const t="task.lists",e="task.selectedListId";let n=JSON.parse(localStorage.getItem(t))||[],c=localStorage.getItem(e);const o=document.querySelector("[data-project-list]"),a=document.querySelector("[data-task-list-container]"),l=document.querySelector("[data-tasks]"),d=document.querySelector("[data-task-count]"),s=document.querySelector("[data-list-title]"),r=document.getElementById("task-template");function i(){u(),m()}function u(){localStorage.setItem(t,JSON.stringify(n)),localStorage.setItem(e,c)}function m(){k(o),n.forEach((t=>{const e=document.createElement("li");e.dataset.listId=t.id,e.classList.add("project-name"),e.innerText=t.name,t.id===c&&e.classList.add("active-list"),o.appendChild(e)}));const t=n.find((t=>t.id===c));null==c?a.style.display="none":(a.style.display="",s.innerText=t.name,p(t),k(l),function(t){t.tasks.forEach((t=>{const e=document.importNode(r.content,!0),n=e.querySelector("input");n.id=t.id,n.checked=t.complete;const c=e.querySelector("label");c.htmlFor=t.id,c.append(t.name),l.appendChild(e)}))}(t))}function p(t){const e=t.tasks.filter((t=>!t.complete)).length,n=1===e?"task":"tasks";d.innerText=`${e} ${n} remaining`}function k(t){for(;t.firstChild;)t.removeChild(t.firstChild)}document.querySelector("[data-task-form]"),document.querySelector("[data-submit-task]"),document.querySelector("[data-completed-tasks-btn]");const f=document.querySelector("[data-delete-btn]"),S=document.querySelector("[data-completed-tasks-btn]"),y=document.querySelector("[data-project-list]"),g=document.querySelector("[data-tasks]");document.querySelector("[data-submit-task]"),document.querySelector("[data-task-input]"),document.querySelector("[data-task-form]").addEventListener("submit",(t=>{!function(t){t.preventDefault();const e=document.querySelector("[data-task-input]"),o=e.value;if(null==o||""===o)return;const a=(l=o,{id:Date.now().toString(),name:l,complete:!1});var l;e.value=null,n.find((t=>t.id===c)).tasks.push(a),i(),console.log("click")}(t)})),y.addEventListener("click",(t=>{!function(t){"li"===t.target.tagName.toLowerCase()&&(c=t.target.dataset.listId,i())}(t)})),g.addEventListener("click",(t=>{!function(t){if("input"===t.target.tagName.toLowerCase()){const e=n.find((t=>t.id===c));e.tasks.find((e=>e.id===t.target.id)).complete=t.target.checked,u(),p(e)}}(t)})),f.addEventListener("click",(t=>{n=n.filter((t=>t.id!==c)),c=null,i()})),S.addEventListener("click",(t=>{!function(){const t=n.find((t=>t.id===c));t.tasks=t.tasks.filter((t=>!t.complete)),i()}()})),document.querySelector(".add").addEventListener("click",(function(){const t=document.querySelector(".project-popup-input"),e=t.value;if(null==e||""===e)return;const c=(o=e,{id:Date.now().toString(),name:o,tasks:[]});var o;t.value=null,n.push(c),i(),console.log("click")})),document.querySelector(".cancel").addEventListener("click",(function(){document.querySelector(".project-popup-input").value="",console.log("cancel")})),console.log("hunter is the best!!!"),m()})();